
<div class="heading mx-5">
    <h3 class="container">Your Cart</h3>
</div>
<div class="cart container mb-5 d-flex flex-row">
    <div class="products col-xl-6 col-lg-6 col-md-12 col-sm-12 flex-wrap border border-1 container mx-3 rounded-2">
        @for (item of products; track item.id) {
            <div class="box d-flex m-3 justify-content-between">
                <div class="main d-flex">
                    <img [src]="item?.image" alt="" class="col-4">
                    <div class="details d-flex flex-column">
                        <h4>{{item?.title}} </h4>
                        <span><b style="color: blue;">Size:</b>{{item?.sizes}} </span>
                        <span><b style="color: blue;">Color:</b>{{item?.colors}}</span>
                        <p class="fs-3 fw-bold mt-2">{{item?.price| currency:'USD':'symbol' }} </p>
                    </div>
                </div>
                <div class="counter d-flex flex-column justify-content-between ">
                    <button class="border border-0" (click)="remove(item?.id)"><i class="fa-solid fa-trash" style="color: #ff0000;"></i></button>
                    <div class="count rounded-4 bg-secondary d-flex justify-content-evenly fw-bold">
                        <a class="border border-0" (click)="decrease(item)">-</a>
                        <span class="number ">{{item?.quantity}} </span>
                        <a class="border border-0" (click)="increase(item)">+</a>
                    </div>
                </div>
            </div>
            <hr>
        }
        
    </div>
    <div class="totalPrice col-xl-6 col-lg-6 col-md-12 col-sm-12 border border-1 container mx-3 rounded-2">
        <h5 class="m-3">Order Summary</h5>
        <div class="subtotal d-flex justify-content-between mb-2">
            <p>Subtotal:</p>
            <p class="fw-bold">{{ subtotal | currency:'USD':'symbol' }}</p>
        </div>

        <div class="discount d-flex justify-content-between mb-2">
            <p>Discount(20%):</p>
            <p class="fw-bold text-danger">-{{discount|currency:'USD':'symbol'}}</p>
        </div>

        <div class="fee d-flex justify-content-between mb-2">
            <p>Delivery Fee:</p>
            <p class="fw-bold">{{deliveryFee|currency:'USD':'symbol'}}</p>
        </div>

        <div class="discount d-flex justify-content-between mb-2" *ngIf="validPromo">
            <p>{{promoValue.value}} ({{promo}}%):</p>
            <p class="fw-bold text-danger">-{{applypromo|currency:'USD':'symbol'}}</p>
        </div>

        <hr>
        <div class="full d-flex justify-content-between mb-2">
            <p>Total :</p>
            <p class="fw-bold">{{total|currency:'USD':'symbol'}} </p>
        </div>
        <div class="code d-flex justify-content-evenly mb-4">
            <input type="text" placeholder="Add promo code" class="rounded-4 w-75 border-0 ps-3" #promoValue>
            <button class="btn btn-dark bg-black rounded-4 w-25" (click)="validatePromo(promoValue.value)">Apply</button>
        </div>
        <button class="btn btn-dark bg-black rounded-4 w-100 d-block mt-2 " (click)="Checkout()">Go to Checkout <i class="fa-solid fa-arrow-right"></i></button>
    </div>
</div>